(this.webpackJsonpsheduler=this.webpackJsonpsheduler||[]).push([[0],[,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,c,s=a(1),r=a.n(s),o=a(6),i=a.n(o),l=(a(11),a(2)),u=a(3),d=a(0);!function(e){e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December"}(n||(n={})),function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(c||(c={}));var m={"2021-02-26":{redCounts:3,greenCounts:7,stepCounts:1e3,amountGreenStar:0,amountGoldStar:0}},j=r.a.createContext({currentMonthYear:[(new Date).getMonth(),(new Date).getFullYear()],changeMonthYear:function(){return console.log("void")},selectedDate:"",changeSelectedDate:function(){return console.log("void")},totalState:m,getDraggedStar:"",changeGlobalState:function(e){return console.log("void")},getResaultOnDate:function(){return{redCounts:0,greenCounts:0,stepCounts:0,amountGreenStar:0,amountGoldStar:0}},getStarOnMonth:function(){return 0},setDraggedStar:function(){return console.log("void")}}),b=function(){return r.a.useContext(j)},g=function(e){var t=e.children,a=r.a.useState(m),n=Object(l.a)(a,2),c=n[0],s=n[1],o=r.a.useState([(new Date).getMonth(),(new Date).getFullYear()]),i=Object(l.a)(o,2),b=i[0],g=i[1],h=r.a.useState((new Date).toISOString().slice(0,10)),p=Object(l.a)(h,2),O=p[0],f=p[1],x=r.a.useState(""),v=Object(l.a)(x,2),y=v[0],D=v[1];return Object(d.jsx)(j.Provider,{value:{currentMonthYear:b,changeMonthYear:function(e,t){g([e,t])},selectedDate:O,changeSelectedDate:f,totalState:c,getDraggedStar:y,changeGlobalState:function(e){s((function(t){return Object(u.a)(Object(u.a)({},t),e)})),D("")},getResaultOnDate:function(e){return Object.keys(c).includes(e)?c[e]:{redCounts:0,greenCounts:0,stepCounts:0,amountGreenStar:0,amountGoldStar:0}},getStarOnMonth:function(e){var t=Object.keys(c).filter((function(e){return Number(e.slice(5,7))===b[0]+1})).map((function(e){return c[e]})).reduce((function(t,a){return t+a[e]}),0);return"amountGreenStar"===e?21-t:7-t},setDraggedStar:D},children:t})},h=a(4);a(13);Date.prototype.addDays=function(e){if(!e)return this;var t=this;return t.setDate(t.getDate()+e),t},Date.prototype.isToday=function(){var e=new Date;return this.isSameDate(e)},Date.prototype.isInterval=function(e,t){var a=Math.round((this.getTime()-e.getTime())/864e5);return(0===a||Math.sign(a)===Math.sign(t))&&0<=Math.abs(a)&&Math.abs(a)<=Math.abs(t)},Date.prototype.isAnotherMonth=function(e){return e&&this.getMonth()!==e.getMonth()},Date.prototype.isWeekend=function(){return 0===this.getDay()||6===this.getDay()},Date.prototype.isSameDate=function(e){return e&&this.getFullYear()===e.getFullYear()&&this.getMonth()===e.getMonth()&&this.getDate()===e.getDate()};var p,O=function(e,t){var a=0;if(0===e&&0===t)return{status:"choose"};try{a=e/t}catch(n){return{status:"choose"}}return a>2?{status:"happy"}:a<=1?{status:"sad"}:{status:"neutral"}},f=function(e){return!!e.isWeekend()},x=a.p+"static/media/star-green.d4309c7e.svg",v=a.p+"static/media/star-gold.01734bf5.svg",y=a.p+"static/media/me-ok.48210cbc.svg",D="me-day";!function(e){e[e.sun=0]="sun",e[e.mon=1]="mon",e[e.tue=2]="tue",e[e.wed=3]="wed",e[e.thu=4]="thu",e[e.fri=5]="fri",e[e.sat=6]="sat"}(p||(p={}));var S=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1).toISOString().slice(0,10)},N=function(e){var t=Math.floor(Math.floor(e.greenCounts/2)+Math.floor(e.stepCounts/1e3)-e.redCounts-3*e.amountGreenStar-9*e.amountGoldStar);return t>0?t:0},C=new Date((new Date).setHours(12,0,0,0)),_=function(e){var t=e.date,a=e.toogleModal,c=e.popupDialog,s=b(),r=Object(l.a)(s.currentMonthYear,1)[0],o=s.changeSelectedDate,i=s.getResaultOnDate,m=s.getDraggedStar,j=s.changeGlobalState,g=i(S(t)),f="".concat(D," ").concat(p[t.getDay()]," ").concat(O(g.greenCounts,g.redCounts).status),_="".concat(D,"__date").concat(t.isToday()?" today":"").concat(t.getMonth()===r?"":" another"),M=t.isInterval(C,-2),w="".concat(t.getDate()," ").concat(t.getMonth()>r&&1===t.getDate()?n[11===t.getMonth()?0:t.getMonth()].slice(0,3):"");return Object(d.jsxs)("div",{className:f,onClick:function(e){var a,n,s;c&&c({curDay:"",x:0,y:0});var r=e.currentTarget,o=(null===(a=r.offsetParent)||void 0===a?void 0:a.clientWidth)||0,i=r.getClientRects()[0],l=i.width,u=i.left,d=i.top,m=(null===(n=r.parentElement)||void 0===n?void 0:n.offsetLeft)||0,j=(null===(s=r.parentElement)||void 0===s?void 0:s.offsetTop)||0,b=u+l+15-m;b+285>o&&(b=u-15-285-m),c&&c({curDay:S(t),x:b,y:d-j}),e.stopPropagation()},children:[Object(d.jsx)("div",{className:_,children:w}),M&&Object(d.jsx)("div",{className:"".concat(D,"__update"),onClick:function(e){e.stopPropagation(),a(1),o(S(t))},children:"Update"}),Object(d.jsxs)("div",{className:"me-day__body",onDragOver:function(e){e.preventDefault(),e.currentTarget.parentElement&&(e.currentTarget.parentElement.style.backgroundColor="rgba(87, 148, 116, 0.08)")},onDragLeave:function(e){e.currentTarget.parentElement&&(e.currentTarget.parentElement.style.backgroundColor="#FFFFFF")},onDrop:function(e){e.currentTarget.parentElement&&(e.currentTarget.parentElement.style.backgroundColor="#FFFFFF");var a=function(e){try{var t=Math.floor(e.greenCounts/2)+Math.floor(e.stepCounts/1e3)-e.redCounts;return{possibleGreen:Math.floor((t-3*e.amountGreenStar-9*e.amountGoldStar)/3),possibleGoldStar:Math.floor(e.amountGreenStar/3)}}catch(a){return{possibleGreen:0,possibleGoldStar:0}}}(g);if("greenstar"===m&&a.possibleGreen>0){var n=Object(u.a)(Object(u.a)({},g),{},{amountGreenStar:g.amountGreenStar+1}),c=Object(h.a)({},S(t),n);j(c)}else if("goldstar"===m&&a.possibleGoldStar>0){var s=Object(u.a)(Object(u.a)({},g),{},{amountGreenStar:g.amountGreenStar-3,amountGoldStar:g.amountGoldStar+1}),r=Object(h.a)({},S(t),s);j(r)}else;},children:[g.greenCounts>0&&Array(N(g)).fill("").map((function(e,t){return Object(d.jsx)("img",{src:y,alt:"!"},t)})),g.amountGreenStar>0&&Array(g.amountGreenStar).fill("").map((function(e,t){return Object(d.jsx)("img",{src:x,alt:""},t)})),g.amountGoldStar>0&&Array(g.amountGoldStar).fill("").map((function(e,t){return Object(d.jsx)("img",{src:v,alt:""},t)}))]})]})},M=(a(14),a(15),a.p+"static/media/me-green-ball.58120cf5.svg"),w=a.p+"static/media/me-red-ball.3b9177e5.svg",G=a.p+"static/media/me-steps.bd9538c6.svg",k=a.p+"static/media/me-emoji-happy.06deaf39.svg",F=a.p+"static/media/me-emoji-neutral.a5076e4f.svg",T=a.p+"static/media/me-emoji-sad.9e74c644.svg",Y=function(e){return"".concat(e>0?"active":"")},I=function(e){var t=e.data,a=b().getResaultOnDate,n={top:"".concat(t.y,"px"),left:"".concat(t.x,"px")},c=a(t.curDay),s=O(c.greenCounts,c.redCounts);return t.curDay.length<10?null:Object(d.jsxs)("div",{className:"me-popup",style:n,children:[Object(d.jsxs)("div",{className:"me-popup__line",children:[Object(d.jsx)("img",{src:M,alt:"o"}),Object(d.jsx)("span",{className:Y(c.greenCounts),children:c.greenCounts}),"natural foods eaten"]}),Object(d.jsxs)("div",{className:"me-popup__line",children:[Object(d.jsx)("img",{src:w,alt:"o"}),Object(d.jsx)("span",{className:Y(c.redCounts),children:c.redCounts}),"non-natural foods eaten"]}),Object(d.jsxs)("div",{className:"me-popup__line",children:[Object(d.jsx)("img",{src:G,alt:"o"}),Object(d.jsx)("span",{className:Y(c.stepCounts),children:c.stepCounts}),"steps done"]}),Object(d.jsxs)("div",{className:"me-popup__line",children:[Object(d.jsx)("img",{src:"happy"===s.status?k:"sad"===s.status?T:F,alt:"o",style:{height:"24px",width:"24px",marginRight:"6px"}}),Object(d.jsx)("span",{className:"".concat("choose"===s.status?"":"active"),children:s.status}),"mood"]})]})},E=function(e){var t=e.toogleModal,a=b(),n=Object(l.a)(a.currentMonthYear,2),s=n[0],o=n[1],i=r.a.useState({curDay:"",x:0,y:0}),u=Object(l.a)(i,2),m=u[0],j=u[1],g=r.a.useState([]),h=Object(l.a)(g,2),p=h[0],O=h[1];r.a.useEffect((function(){O(function(e,t){var a=new Date(t,e,1).getDay(),n=[],c=a+new Date(t,e+1,0).getDate()>35?42:35;for(var s in Array.from({length:c},(function(e,t){return t})))n.push(new Date(t,e,Number(s)-a+1,12,0,1,0));return n}(s,o)),j({curDay:"",x:0,y:0})}),[s,o]);var f="m-board ".concat(p.length>35?"large":""),x=function(e){e.curDay===m.curDay?j({curDay:"",x:0,y:0}):j(e)};return Object(d.jsxs)("div",{className:f,children:[Object.keys(c).filter((function(e){return!(parseInt(e)>=0)})).map((function(e,t){return Object(d.jsx)("div",{className:"m-board__weekdays",children:c[t]},t)})),p.map((function(e,a){return Object(d.jsx)(_,{date:e,toogleModal:t,popupDialog:x},a)})),m.curDay.length>0&&Object(d.jsx)(I,{data:m})]})},A=(a(16),a(17),a.p+"static/media/me-plus.89ada8c2.svg"),J=a.p+"static/media/me-minus.ef2bda19.svg",R=function(e,t,a){return Number.isNaN(Number(e))?0:e>=t&&e<=a?e:e<t?t:a},B=function(e){var t=e.value,a=void 0===t?0:t,n=e.changeValue,c=e.minValue,s=void 0===c?0:c,r=e.maxValue,o=void 0===r?100:r,i=e.increment,l=void 0===i?1:i,u=e.showIncrementIcon,m=void 0===u||u,j=function(e){n(R("-"===e.currentTarget.getAttribute("alt")?a-l:a+l,s,o)),e.preventDefault()};return Object(d.jsx)("div",{className:"m-counter",children:Object(d.jsxs)("div",{className:"m-counter__wrapper",children:[m&&Object(d.jsx)("img",{src:J,alt:"-",onClick:function(e){return j(e)}}),Object(d.jsx)("input",{className:"m-counter__input",type:"number",step:l,value:a,onChange:function(e){return function(e){n(R(Number(e.target.value),s,o))}(e)}}),m&&Object(d.jsx)("img",{src:A,alt:"+",onClick:function(e){return j(e)}})]})})},V=(a(18),function(e){var t=e.status,a=void 0===t?"choose":t;return Object(d.jsxs)("div",{className:"m-status",children:[Object(d.jsx)("div",{className:"m-status__line".concat("happy"===a?" active":""),children:Object(d.jsx)("img",{src:k,alt:""})}),Object(d.jsx)("div",{className:"m-status__line".concat("neutral"===a?" active":""),children:Object(d.jsx)("img",{src:F,alt:""})}),Object(d.jsx)("div",{className:"m-status__line".concat("sad"===a?" active":""),children:Object(d.jsx)("img",{src:T,alt:""})})]})}),P=function(e){var t=e.handleClose,a=b(),n=a.selectedDate,c=a.getResaultOnDate,s=a.changeGlobalState,o=c(n),i=r.a.useState(o),m=Object(l.a)(i,2),j=m[0],g=m[1];r.a.useEffect((function(){g((function(e){return Object(u.a)(Object(u.a)({},e),o)}))}),[n]);var p=function(e){return g((function(t){return Object(u.a)(Object(u.a)({},t),e)}))},f=o.greenCounts!==j.greenCounts||o.redCounts!==j.redCounts||o.stepCounts!==j.stepCounts;return Object(d.jsxs)("div",{className:"m-editor",children:[Object(d.jsx)("button",{onClick:function(){return g((function(e){return Object(u.a)(Object(u.a)({},e),o)}))},className:"m-editor__clear-button",disabled:!f,children:"Clear all"}),Object(d.jsx)("span",{}),Object(d.jsx)("label",{children:"Date"}),Object(d.jsx)("div",{className:"m-editor__date",children:Object(d.jsx)("div",{className:"m-editor__date-text",children:"".concat(n.slice(8,10),".").concat(n.slice(5,7),".").concat(n.slice(0,4))})}),Object(d.jsx)("label",{children:"Green counts"}),Object(d.jsx)(B,{value:j.greenCounts,changeValue:function(e){return p({greenCounts:e})}}),Object(d.jsx)("label",{children:"Red counts"}),Object(d.jsx)(B,{value:j.redCounts,changeValue:function(e){return p({redCounts:e})}}),Object(d.jsx)("label",{children:"Steps counts"}),Object(d.jsx)(B,{value:j.stepCounts,changeValue:function(e){return p({stepCounts:e})},increment:10,showIncrementIcon:!1,maxValue:3e4}),Object(d.jsx)("label",{children:"Your feelings"}),Object(d.jsx)(V,{status:O(j.greenCounts,j.redCounts).status}),Object(d.jsxs)("div",{className:"m-editor__control",children:[Object(d.jsx)("button",{className:"m-cancel _icon-close-small",onClick:t,children:"Cancel"}),Object(d.jsx)("button",{className:"m-save _icon-ok-small",disabled:!f,onClick:function(){s(Object(h.a)({},n,j)),t()},children:"Save"})]})]})},W=(a(19),a(20),a.p+"static/media/me-shot-arrow-left.6e35df5d.svg"),H=a.p+"static/media/me-shot-arrow-right.56ce3577.svg",L=function(){var e=b(),t=e.currentMonthYear,a=e.changeMonthYear,c=function(e){var n=t[0],c=t[1];"prev"===e.currentTarget.name?a(0===n?10:n-1,0===n?c-1:c):a(10===n?0:n+1,10===n?c+1:c)};return Object(d.jsxs)("div",{className:"m-month",children:[Object(d.jsx)("button",{className:"m-month__next",name:"prev",onClick:c,children:Object(d.jsx)("img",{src:W,alt:"<"})}),Object(d.jsx)("div",{className:"m-month__name",children:"".concat(n[t[0]]," ").concat(t[1])}),Object(d.jsx)("button",{className:"m-month__next",name:"next",onClick:c,children:Object(d.jsx)("img",{src:H,alt:">"})})]})},U=(a(21),a.p+"static/media/help.b5b60e18.svg"),q=function(e){var t=e.typeButton,a=e.text,n=void 0===a?"":a,c=e.isDragable,s=void 0!==c&&c,r=e.onclick,o=b().setDraggedStar,i="me-header-button ".concat(t);return Object(d.jsxs)("div",{className:i,onClick:r,children:["text"!==t&&Object(d.jsx)("img",{className:"".concat(s?"grabbable":""),src:"greenstar"===t?x:"goldstar"===t?v:U,alt:"",draggable:s,onDragStart:function(){o&&o(t)}}),n.length>0&&Object(d.jsx)("label",{children:n})]})},z=function(e){var t=e.toogleModal,a=b(),n=a.changeMonthYear,c=a.getStarOnMonth;return Object(d.jsxs)("div",{className:"m-header",children:[Object(d.jsx)(L,{}),Object(d.jsxs)("div",{className:"m-wrapper",children:[Object(d.jsx)(q,{typeButton:"greenstar",text:"".concat(c("amountGreenStar")),isDragable:f(new Date)}),Object(d.jsx)(q,{typeButton:"goldstar",text:"".concat(c("amountGoldStar")),isDragable:f(new Date)}),Object(d.jsx)(q,{typeButton:"help",text:"",onclick:function(){return t(2)}}),Object(d.jsx)(q,{typeButton:"text",text:"Today",onclick:function(){n((new Date).getMonth(),(new Date).getFullYear())}})]})]})},K=(a(22),a.p+"static/media/arrow.7341b856.svg"),Q=a.p+"static/media/arrow_shot.9ad6df22.svg",X=function(){return Object(d.jsxs)("div",{className:"me-help",children:[Object(d.jsx)("div",{className:"me-help__title",children:"Explanation"}),Object(d.jsx)("div",{className:"me-help__section-title",children:"How do I achieve a check mark?"}),Object(d.jsxs)("div",{className:"me-help__section-images",children:[Object(d.jsx)("img",{src:M,alt:""}),Object(d.jsx)("img",{src:Q,alt:"",className:"small"}),Object(d.jsx)("span",{children:"10"}),Object(d.jsx)("img",{src:K,alt:"",className:"small"}),Object(d.jsx)("img",{src:y,alt:""})]}),Object(d.jsx)("div",{className:"me-help__section-text",children:"Get 10 Green counts a day and earn green check mark"}),Object(d.jsx)("div",{className:"me-help__section-title",children:"How do I achive a star?"}),Object(d.jsxs)("div",{className:"me-help__section-images",children:[Object(d.jsx)("img",{src:y,alt:""}),Object(d.jsx)("img",{src:y,alt:""}),Object(d.jsx)("img",{src:y,alt:""}),Object(d.jsx)("img",{src:K,alt:"",className:"small"}),Object(d.jsx)("img",{src:x,alt:"",className:"greenstar"})]}),Object(d.jsx)("div",{className:"me-help__section-text",children:"Get 3 days with check marks - add a green star to your calendar"}),Object(d.jsx)("div",{className:"me-help__section-title",children:"How do I achive a gold star?"}),Object(d.jsxs)("div",{className:"me-help__section-images",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:x,alt:"",className:"greenstar"}),Object(d.jsx)("img",{src:x,alt:"",className:"greenstar"}),Object(d.jsx)("img",{src:x,alt:"",className:"greenstar"})]}),Object(d.jsx)("img",{src:K,alt:"",className:"small"}),Object(d.jsx)("img",{src:v,alt:"",className:Object.keys({goldstar:v})[0]})]}),Object(d.jsx)("div",{className:"me-help__section-text",children:"Get 3 days with green stars - add a gold star to your calendar"})]})},Z=(a(23),function(e){var t=e.handleClose,a=e.isShow,n=e.children,c=a?"m-modal show":"m-modal hide";return Object(d.jsx)("div",{className:c,children:Object(d.jsxs)("section",{className:"m-modal__main",children:[n,Object(d.jsx)("button",{onClick:t,children:"\u2715"})]})})}),$=(a(24),function(){var e=r.a.useState(0),t=Object(l.a)(e,2),a=t[0],n=t[1],c=function(){n(0)};return Object(d.jsx)("div",{className:"m-calendar",children:Object(d.jsx)("div",{className:"main-wrapper",children:Object(d.jsxs)(g,{children:[Object(d.jsx)(z,{toogleModal:n}),Object(d.jsx)(E,{toogleModal:n}),Object(d.jsx)(Z,{isShow:!!a,handleClose:c,children:1===a?Object(d.jsx)(P,{handleClose:c}):Object(d.jsx)(X,{})})]})})})});var ee=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)($,{})})},te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,26)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(ee,{})}),document.getElementById("root")),te()}],[[25,1,2]]]);
//# sourceMappingURL=main.e95054dd.chunk.js.map